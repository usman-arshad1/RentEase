<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Rent-Ease</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
<h1>Update Property</h1>

<form action="/landlord-properties/update/<%= property.property_id %>" method="POST">
    <input type="hidden" name="_method" value="PUT">
    <label for="unit">Unit</label><br>
    <input type="number" id="unit" name="unit" min="1" pattern="\d+" placeholder="Unit number" value="<%= property.unit%>" required><br>

    <label for="street">Street</label><br>
    <input type="text"
           id="street"
           name="street"
           placeholder="Street Address"
           pattern="^[a-zA-Z0-9.]*$"
           value="<%= property.street%>"
           maxlength="50"
           oninvalid="invalidInput(this)"
           oninput="validateInput(this)"
           required><br>

    <label for="city">City</label><br>
    <input type="text"
           id="city"
           name="city"
           placeholder="City"
           pattern="^[a-zA-Z0-9.]*$"
           value="<%= property.city%>"
           maxlength="50"
           oninvalid="invalidInput(this)"
           oninput="validateInput(this)"
           required><br>

    <label for="province_state">Province/State</label><br>
    <select id="provinceState" name="provinceState" required>
    </select><br>
    <label for="country">Country</label><br>
    <select name="country" id="country" required>
        <option value="Canada" <%= property.country === 'Canada' ? 'selected' : '' %>>Canada</option>
        <option value="USA" <%= property.country === 'USA' ? 'selected' : '' %>>USA</option>
    </select><br>

    <button type="submit">Update</button>
</form>
<a href="/landlord-properties">
    <button onclick ="return confirm('Your changes will not be saved, and you will be returned to the dashboard.')">Cancel</button>
</a>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script src="/js/property_form_handler.js"></script>
</body>
</html>
